/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};

// main.ts
var obsidian = require("obsidian");
var CronievBookkeeping = class extends obsidian.Plugin {
  constructor() {
    super(...arguments);
  }
  onload() {
    return __async(this, null, function* () {
      return __awaiter(this, void 0, void 0, function* () {
        console.log("Loading plugin CronievBookkeeping...");
        yield this.loadSettings();
        this.addSettingTab(new CronievBookkeepingSettingsTab(this.app, this));
        this.addCommand({
          id: "update-ledger",
          name: "Update Ledger",
          callback: () => {
            this.updateLedger();
          },
          hotkeys: [
            {
              modifiers: ["Ctrl"],
              key: "L"
            }
          ]
        });
      });
    });
  }
  onunload() {
    return __async(this, null, function* () {
      console.log("Unloading plugin CronievBookkeeping...");
    });
  }
  loadSettings() {
    return __awaiter(this, void 0, void 0, function* () {
      this.settings = Object.assign({}, DEFAULT_SETTINGS, yield this.loadData());
    });
  }
  updateLedger() {
    return __async(this, null, function* () {
      let doc_ledger = this.app.vault.getAbstractFileByPath(this.settings.ledger_file);
      const str_transactions = yield this.app.vault.read(this.app.vault.getAbstractFileByPath(this.settings.transaction_file));
      let months_map = makeMonthsMap(str_transactions.split("\n"));
      let new_doc = "";
      let buckets_list = this.settings.table_order.split(",");
      let table_head = makeTableHead(buckets_list, this.settings.bucket_names);
      let empty_row = makeEmptyTableRow(buckets_list.length);
      let sorted_buckets = /* @__PURE__ */ new Map();
      Object.entries(this.settings.bucket_names).forEach(function([k, v]) {
        sorted_buckets.set(k, []);
      });
      months_map.forEach((arr, mon) => {
        let sorted_buckets_mon = new Map(JSON.parse(JSON.stringify(Array.from(sorted_buckets))));
        sortTransactions(sorted_buckets_mon, arr);
        let sum_entries = makeSumEntries(sumBuckets(sorted_buckets_mon), this.settings.table_sums);
        new_doc += mon + "\n" + table_head;
        if (this.settings.include_transactions) {
          new_doc += makeTableFromMap(buckets_list, stringifyTransactionMap(sorted_buckets_mon));
        }
        new_doc += empty_row;
        new_doc += makeTableFromMap(buckets_list, sum_entries);
      });
      this.app.vault.modify(doc_ledger, new_doc);
    });
  }
};
function makeMonthsMap(arr_transactions) {
  let months_map = /* @__PURE__ */ new Map();
  let month;
  for (const line of arr_transactions) {
    if (line == "\n" || line == "") {
      continue;
    }
    if (line.indexOf("#") != -1) {
      month = line;
      let arr = [];
      months_map.set(month, arr);
    } else {
      let arr = months_map.get(month);
      arr.push(line);
    }
  }
  return months_map;
}
function makeTableHead(buckets, bucket_names) {
  let table_head = "|";
  let table_head2 = "|";
  for (const b of buckets) {
    table_head += bucket_names[b] + "|";
    table_head2 += " --- |";
  }
  return table_head + "\n" + table_head2 + "\n";
}
function sortTransactions(map, arr) {
  for (const t of arr) {
    let split2 = makeTransaction(t);
    map.get(split2[0]).push(split2.slice(1));
  }
}
function makeTransaction(t) {
  let split2 = t.split(" ");
  let desc = split2.slice(2).join(" ");
  return [split2[0], split2[1], desc];
}
function sumBuckets(map) {
  let sums = /* @__PURE__ */ new Map();
  map.forEach((ts, b) => {
    let sum = 0;
    for (const t of ts) {
      sum += parseFloat(t);
    }
    sums.set(b, parseFloat(sum));
  });
  return sums;
}
function makeSumEntries(sums, table_sums) {
  let sum_entries = /* @__PURE__ */ new Map();
  Object.entries(table_sums).forEach(function([k, v]) {
    sum_entries.set(k, []);
    let combinations = v.split(",");
    for (const s of combinations) {
      let vorzeichen = 1;
      let tmp = 0;
      for (const c of s) {
        if (c == "+") {
          vorzeichen = 1;
        } else if (c == "-") {
          vorzeichen = -1;
        } else {
          tmp += vorzeichen * parseFloat(sums.get(c));
        }
      }
      sum_entries.get(k).push(tmp);
    }
  });
  return sum_entries;
}
function makeEmptyTableRow(len) {
  let row = "|";
  for (let i = 0; i < len; i++) {
    row += " |";
  }
  return row + "\n";
}
function stringifyTransactionMap(map) {
  let new_map = /* @__PURE__ */ new Map();
  map.forEach((v, k) => {
    let list = [];
    for (const element of v) {
      list.push(element.join(" "));
    }
    new_map.set(k, list);
  });
  return new_map;
}
function makeTableFromMap(buckets, map) {
  let exhausted = [];
  let table = "";
  let row = 0;
  buckets.forEach((element) => {
    exhausted.push(0);
  });
  while (exhausted.includes(0)) {
    table += "|";
    for (let i = 0; i < buckets.length; i++) {
      if (exhausted[i] == 0) {
        let map_el = map.get(buckets[i]);
        if (map_el[row] != void 0) {
          table += map_el[row];
        }
        if (map_el.length <= row + 1) {
          exhausted[i] = 1;
        }
      }
      table += " |";
    }
    table += "\n";
    row++;
  }
  return table;
}
function bucketsToDict(bucketsInput) {
  let buckets = bucketsInput.split("\n");
  let dict = {};
  for (const b of buckets) {
    if (b != "") {
      split = b.split(": ");
      dict[split[0]] = split[1];
    }
  }
  return dict;
}
function dictToBuckets(dict) {
  out = "";
  Object.entries(dict).forEach(function([k, v]) {
    out += k + ": " + v + "\n";
  });
  return out;
}
var DEFAULT_SETTINGS = {
  transaction_file: "_transactions.md",
  ledger_file: "_ledger.md",
  bucket_names: { "g": "Geld", "i": "Income", "w": "Wiederholung", "b": "Besorgung", "s": "Sonstiges", "f": "Freizeit", "e": "Einkaufen" },
  table_order: "e,f,b,s,w,i",
  table_sums: { "e": "e", "f": "f", "b": "b,e+f+b", "s": "s,e+f+b+s", "w": "w,e+f+b+s+w", "i": "i,i-e-f-b-s-w,g+i-e-f-b-s-w" },
  include_transactions: true
};
var CronievBookkeepingSettingsTab = class extends obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    let { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "Croniev Bookkeeping - Settings" });
    new obsidian.Setting(containerEl).setName("Transactions file").setDesc("Type the path to the file you want to add the transactions to").addTextArea((text) => text.setPlaceholder("_transactions.md").setValue(this.plugin.settings.transaction_file).onChange((value) => __awaiter(this, void 0, void 0, function* () {
      if (value == "") {
        value = "_transactions.md";
      }
      this.plugin.settings.transaction_file = value;
      yield this.plugin.saveSettings();
    })));
    new obsidian.Setting(containerEl).setName("Ledger file").setDesc("Type the path to the file you want the ledger to be added to").addTextArea((text) => text.setPlaceholder("_ledger.md").setValue(this.plugin.settings.ledger_file).onChange((value) => __awaiter(this, void 0, void 0, function* () {
      if (value == "") {
        value = "_ledger.md";
      }
      this.plugin.settings.transaction_file = value;
      yield this.plugin.saveSettings();
    })));
    new obsidian.Setting(containerEl).setName("Buckets").setDesc("Type the classifier and Name of the buckets you want to use, one bucket per line").setClass("bookkeeping-tall-field").addTextArea((text) => text.setPlaceholder("i: Income").setValue(dictToBuckets(this.plugin.settings.bucket_names)).onChange((value) => __awaiter(this, void 0, void 0, function* () {
      this.plugin.settings.bucket_names = bucketsToDict(value);
      yield this.plugin.saveSettings();
    })));
    new obsidian.Setting(containerEl).setName("Buckets Order").setDesc("Type the Order the Buckets should have in the table").addTextArea((text) => text.setPlaceholder("e,f,b,s,w,i").setValue(this.plugin.settings.table_order).onChange((value) => __awaiter(this, void 0, void 0, function* () {
      if (value == "") {
        value = "e,f,b,s,w,i";
      }
      this.plugin.settings.table_order = value;
      yield this.plugin.saveSettings();
    })));
    new obsidian.Setting(containerEl).setName("Sums shown in table").setDesc("Type the Sums you would like to have displayed under each Bucket in the Table. One Bucket per row.").setClass("bookkeeping-tall-field").addTextArea((text) => text.setPlaceholder("b: b,e+f+b").setValue(dictToBuckets(this.plugin.settings.table_sums)).onChange((value) => __awaiter(this, void 0, void 0, function* () {
      this.plugin.settings.table_sums = bucketsToDict(value);
      yield this.plugin.saveSettings();
    })));
    new obsidian.Setting(containerEl).setName("Display every transaction").setDesc("Add a list of the transactions to the table.").addToggle((toggle) => toggle.setValue(this.plugin.settings.include_transactions).onChange((value) => __awaiter(this, void 0, void 0, function* () {
      this.plugin.settings.include_transactions = !this.plugin.settings.include_transactions;
      yield this.plugin.saveSettings();
    })));
  }
};
module.exports = CronievBookkeeping;
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgQXBwLCBFZGl0b3IsIE1hcmtkb3duVmlldywgTW9kYWwsIE5vdGljZSwgUGx1Z2luLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nIH0gZnJvbSAnb2JzaWRpYW4nO1xuXG52YXIgb2JzaWRpYW4gPSByZXF1aXJlKCdvYnNpZGlhbicpO1xuXG5jbGFzcyBDcm9uaWV2Qm9va2tlZXBpbmcgZXh0ZW5kcyBvYnNpZGlhbi5QbHVnaW4ge1xuXHRjb25zdHJ1Y3Rvcigpe1xuXHRcdHN1cGVyKC4uLmFyZ3VtZW50cyk7XG5cdFx0Ly8gY29uc3QgcG90c19uYW1lcyA9IFtcIkJlc29yZ3VuZ1wiLFwiRWlua2F1ZlwiLFwiRnJlaVwiLFwiR2VsZFwiLFwiSW50YWtlXCIsXCJTb25zdGlnZXNcIixcIldpZWRlcmhvbHVuZ1wiXVxuXHR9XG5cblx0YXN5bmMgb25sb2FkKCkge1xuXHRcdHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG5cdFx0XHRjb25zb2xlLmxvZygnTG9hZGluZyBwbHVnaW4gQ3JvbmlldkJvb2trZWVwaW5nLi4uJyk7XG5cdFx0XHR5aWVsZCB0aGlzLmxvYWRTZXR0aW5ncygpO1xuXHRcdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBDcm9uaWV2Qm9va2tlZXBpbmdTZXR0aW5nc1RhYih0aGlzLmFwcCx0aGlzKSk7XG5cdFx0XHQvLyBUaGlzIGFkZHMgYW4gZWRpdG9yIGNvbW1hbmQgdGhhdCBjYW4gcGVyZm9ybSBzb21lIG9wZXJhdGlvbiBvbiB0aGUgY3VycmVudCBlZGl0b3IgaW5zdGFuY2Vcblx0XHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRcdGlkOiAndXBkYXRlLWxlZGdlcicsXG5cdFx0XHRcdG5hbWU6ICdVcGRhdGUgTGVkZ2VyJyxcblx0XHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcblx0XHRcdFx0XHR0aGlzLnVwZGF0ZUxlZGdlcigpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRob3RrZXlzOiBbXG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0bW9kaWZpZXJzOiBbJ0N0cmwnXSxcblx0XHRcdFx0XHRcdFx0XHRrZXk6ICdMJyxcblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdF1cblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cblx0YXN5bmMgb251bmxvYWQoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdVbmxvYWRpbmcgcGx1Z2luIENyb25pZXZCb29ra2VlcGluZy4uLicpO1xuXHR9XG5cdGxvYWRTZXR0aW5ncygpIHtcblx0XHRcdHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG5cdFx0XHRcdFx0dGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIHlpZWxkIHRoaXMubG9hZERhdGEoKSk7XG5cdFx0XHR9KTtcblx0fVxuXG5cdGFzeW5jIHVwZGF0ZUxlZGdlcigpe1xuXHRcdGxldCBkb2NfbGVkZ2VyID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKHRoaXMuc2V0dGluZ3MubGVkZ2VyX2ZpbGUpO1xuXHRcdGNvbnN0IHN0cl90cmFuc2FjdGlvbnMgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5yZWFkKHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aCh0aGlzLnNldHRpbmdzLnRyYW5zYWN0aW9uX2ZpbGUpKTtcblxuXHRcdC8vIEF1ZnRlaWxlbiBhbGxlciBaZWlsZW4gaW4gYXJyYXlzIG1pdCBaZWlsZW4gZWluZXMgTW9uYXRzLlxuXHRcdGxldCBtb250aHNfbWFwID0gbWFrZU1vbnRoc01hcChzdHJfdHJhbnNhY3Rpb25zLnNwbGl0KFwiXFxuXCIpKTtcblx0XHQvLyBBbGxlIFRhYmVsbGVuIHVuZCBcdTAwRENiZXJzY2hyaWZ0ZW4gd2VyZGVuIGluIGVpbmVyIFN0cmluZyBnZXNhbW1lbHRcblx0XHRsZXQgbmV3X2RvYyA9IFwiXCI7XG5cdFx0Ly8gVGFiZWxsZW5rXHUwMEY2cGZlIChzZXR0aW5ncy50YWJsZV9vcmRlcilcblx0XHRsZXQgYnVja2V0c19saXN0ID0gdGhpcy5zZXR0aW5ncy50YWJsZV9vcmRlci5zcGxpdChcIixcIik7XG5cdFx0bGV0IHRhYmxlX2hlYWQgPSBtYWtlVGFibGVIZWFkKGJ1Y2tldHNfbGlzdCwgdGhpcy5zZXR0aW5ncy5idWNrZXRfbmFtZXMpO1xuXHRcdGxldCBlbXB0eV9yb3cgPSBtYWtlRW1wdHlUYWJsZVJvdyhidWNrZXRzX2xpc3QubGVuZ3RoKTtcblx0XHQvLyBWb3JsYWdlIGZcdTAwRkNyIFNvcnRpZXJ1bmdcblx0XHRsZXQgc29ydGVkX2J1Y2tldHMgPSBuZXcgTWFwPHN0cmluZyxhcnJheT4oKTtcblx0XHRPYmplY3QuZW50cmllcyh0aGlzLnNldHRpbmdzLmJ1Y2tldF9uYW1lcykuZm9yRWFjaChmdW5jdGlvbihbayx2XSkge1xuXHRcdFx0c29ydGVkX2J1Y2tldHMuc2V0KGssW10pXG5cdFx0fSk7XG5cdFx0Ly8gRlx1MDBGQ3IgamVkZW4gTW9uYXQgVGFiZWxsZSBhbmxlZ2VuXG5cdFx0bW9udGhzX21hcC5mb3JFYWNoKChhcnIsbW9uKSA9PiB7XG5cdFx0XHQvLyBFaW50clx1MDBFNGdlIG5hY2ggQnVja2V0cyBzb3J0aWVyZW5cblx0XHRcdGxldCBzb3J0ZWRfYnVja2V0c19tb24gPSBuZXcgTWFwKEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoQXJyYXkuZnJvbShzb3J0ZWRfYnVja2V0cykpKSk7XG5cdFx0XHRzb3J0VHJhbnNhY3Rpb25zKHNvcnRlZF9idWNrZXRzX21vbixhcnIpO1xuXHRcdFx0Ly8gc2V0dGluZ3MuVGFibGVfc3VtcyBlcnJlY2huZW5cblx0XHRcdGxldCBzdW1fZW50cmllcyA9IG1ha2VTdW1FbnRyaWVzKHN1bUJ1Y2tldHMoc29ydGVkX2J1Y2tldHNfbW9uKSx0aGlzLnNldHRpbmdzLnRhYmxlX3N1bXMpO1xuXHRcdFx0Ly8gLS0tLSBTdHJpbmcgZXJzdGVsbGVuIC0tLS1cblx0XHRcdC8vIFx1MDBEQ2JlcnNjaHJpZnQgcGx1cyBUYWJlbGxlbmtvcGZcblx0XHRcdG5ld19kb2MgKz0gbW9uICsgXCJcXG5cIiArIHRhYmxlX2hlYWQ7XG5cdFx0XHQvLyBJRiBwbHVnaW4uc2V0dGluZy5pbmNsdWRlX3RyYW5zYWN0aW9uczogWmVpbGVud2Vpc2UgRWludHJcdTAwRTRnZSBoaW56dWZcdTAwRkNnZW5cblx0XHRcdGlmICh0aGlzLnNldHRpbmdzLmluY2x1ZGVfdHJhbnNhY3Rpb25zKXtcblx0XHRcdFx0bmV3X2RvYyArPSBtYWtlVGFibGVGcm9tTWFwKGJ1Y2tldHNfbGlzdCxzdHJpbmdpZnlUcmFuc2FjdGlvbk1hcChzb3J0ZWRfYnVja2V0c19tb24pKTtcblx0XHRcdH1cblx0XHRcdC8vIHNldHRpbmdzLlRhYmxlX3N1bXMgaGluenVmXHUwMEZDZ2VuXG5cdFx0XHRuZXdfZG9jICs9IGVtcHR5X3Jvdztcblx0XHRcdG5ld19kb2MgKz0gbWFrZVRhYmxlRnJvbU1hcChidWNrZXRzX2xpc3Qsc3VtX2VudHJpZXMpO1xuXHRcdH0pO1xuXHRcdC8vIExlZGdlciBtb2RpZml6aWVyZW5cblx0XHR0aGlzLmFwcC52YXVsdC5tb2RpZnkoZG9jX2xlZGdlciwgbmV3X2RvYyk7XG5cdH1cbn1cbmZ1bmN0aW9uIG1ha2VNb250aHNNYXAoYXJyX3RyYW5zYWN0aW9ucyl7XG5cdGxldCBtb250aHNfbWFwID0gbmV3IE1hcDxzdHJpbmcsYXJyYXk+KCk7XG5cdGxldCBtb250aDpzdHJpbmc7XG5cdGZvciAoY29uc3QgbGluZSBvZiBhcnJfdHJhbnNhY3Rpb25zKXtcblx0XHRpZiAobGluZT09XCJcXG5cIiB8fCBsaW5lPT1cIlwiKXtcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblx0XHQvLyBGYWxscyBlcyBlaW5lIFx1MDBEQ2JlcnNjaHJpZnQgaXN0LCBuZXVlcyBFbGVtZW50IGltIERpY3QgYW5sZWdlbi5cblx0XHRpZiAobGluZS5pbmRleE9mKFwiI1wiKSAhPSAtMSl7XG5cdFx0XHRtb250aCA9IGxpbmU7XG5cdFx0XHRsZXQgYXJyOnN0cmluZ1tdID0gW107XG5cdFx0XHRtb250aHNfbWFwLnNldChtb250aCxhcnIpO1xuXHRcdH1lbHNleyAvLyBBbnNvbnN0ZW4gZGllIFplaWxlbiBzYW1tZWxuLlxuXHRcdFx0bGV0IGFycjpzdHJpbmdbXSA9IG1vbnRoc19tYXAuZ2V0KG1vbnRoKTtcblx0XHRcdGFyci5wdXNoKGxpbmUpO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gbW9udGhzX21hcFxufVxuZnVuY3Rpb24gbWFrZVRhYmxlSGVhZChidWNrZXRzLGJ1Y2tldF9uYW1lcyl7XG5sZXQgdGFibGVfaGVhZCA9IFwifFwiO1xubGV0IHRhYmxlX2hlYWQyPVwifFwiO1xuZm9yIChjb25zdCBiIG9mIGJ1Y2tldHMpe1xuXHR0YWJsZV9oZWFkICs9IGJ1Y2tldF9uYW1lc1tiXStcInxcIjtcblx0dGFibGVfaGVhZDIgKz0gXCIgLS0tIHxcIjtcbn1cbnJldHVybiB0YWJsZV9oZWFkICsgXCJcXG5cIiArIHRhYmxlX2hlYWQyICsgXCJcXG5cIjtcbn1cbmZ1bmN0aW9uIHNvcnRUcmFuc2FjdGlvbnMobWFwLGFycil7XG5cdGZvciAoY29uc3QgdCBvZiBhcnIpe1xuXHRcdGxldCBzcGxpdCA9IG1ha2VUcmFuc2FjdGlvbih0KTtcblx0XHRtYXAuZ2V0KHNwbGl0WzBdKS5wdXNoKHNwbGl0LnNsaWNlKDEpKTtcblx0fVxufVxuZnVuY3Rpb24gbWFrZVRyYW5zYWN0aW9uKHQpe1xuXHRsZXQgc3BsaXQgPSB0LnNwbGl0KFwiIFwiKTtcblx0bGV0IGRlc2MgPSBzcGxpdC5zbGljZSgyKS5qb2luKFwiIFwiKTtcblx0cmV0dXJuIFtzcGxpdFswXSxzcGxpdFsxXSxkZXNjXTtcbn1cbmZ1bmN0aW9uIHN1bUJ1Y2tldHMobWFwKXtcblx0bGV0IHN1bXMgPSBuZXcgTWFwPHN0cmluZyxmbG9hdD4oKTtcblx0bWFwLmZvckVhY2goKHRzLGIpID0+IHtcblx0XHRsZXQgc3VtID0gMDtcblx0XHRmb3IgKGNvbnN0IHQgb2YgdHMpe1xuXHRcdFx0c3VtICs9IHBhcnNlRmxvYXQodCk7XG5cdFx0fVxuXHRcdHN1bXMuc2V0KGIscGFyc2VGbG9hdChzdW0pKTtcblx0fSk7XG5cdHJldHVybiBzdW1zO1xufVxuZnVuY3Rpb24gbWFrZVN1bUVudHJpZXMoc3VtcywgdGFibGVfc3Vtcyl7XG5cdGxldCBzdW1fZW50cmllcyA9IG5ldyBNYXA8c3RyaW5nLGFycmF5PigpO1xuXHRPYmplY3QuZW50cmllcyh0YWJsZV9zdW1zKS5mb3JFYWNoKGZ1bmN0aW9uKFtrLHZdKXtcblx0XHRzdW1fZW50cmllcy5zZXQoayxbXSk7XG5cdFx0bGV0IGNvbWJpbmF0aW9ucyA9IHYuc3BsaXQoXCIsXCIpO1xuXHRcdGZvciAoY29uc3QgcyBvZiBjb21iaW5hdGlvbnMpe1xuXHRcdFx0bGV0IHZvcnplaWNoZW4gPSAxO1xuXHRcdFx0bGV0IHRtcCA9IDA7XG5cdFx0XHRmb3IgKGNvbnN0IGMgb2Ygcyl7XG5cdFx0XHRcdGlmIChjID09IFwiK1wiKXtcblx0XHRcdFx0XHR2b3J6ZWljaGVuID0gMTtcblx0XHRcdFx0fSBlbHNlIGlmIChjID09IFwiLVwiKXtcblx0XHRcdFx0XHR2b3J6ZWljaGVuID0gLTE7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dG1wICs9IHZvcnplaWNoZW4qIHBhcnNlRmxvYXQoc3Vtcy5nZXQoYykpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRzdW1fZW50cmllcy5nZXQoaykucHVzaCh0bXApXG5cdFx0fVxuXHR9KTtcblx0cmV0dXJuIHN1bV9lbnRyaWVzO1xufVxuZnVuY3Rpb24gbWFrZUVtcHR5VGFibGVSb3cobGVuKXtcblx0bGV0IHJvdyA9IFwifFwiO1xuXHRmb3IgKGxldCBpPTA7aTxsZW47aSsrICl7XG5cdFx0cm93ICs9IFwiIHxcIlxuXHR9XG5cdHJldHVybiByb3crXCJcXG5cIlxufVxuZnVuY3Rpb24gc3RyaW5naWZ5VHJhbnNhY3Rpb25NYXAobWFwKXtcblx0bGV0IG5ld19tYXAgPSBuZXcgTWFwPHN0cmluZyxhcnJheT4oKTtcblx0bWFwLmZvckVhY2goKHYsaykgPT4ge1xuXHRcdGxldCBsaXN0ID0gW107XG5cdFx0Zm9yIChjb25zdCBlbGVtZW50IG9mIHYpe1xuXHRcdFx0bGlzdC5wdXNoKGVsZW1lbnQuam9pbihcIiBcIikpO1xuXHRcdH1cblx0XHRuZXdfbWFwLnNldChrLGxpc3QpO1xuXHR9KTtcblx0cmV0dXJuIG5ld19tYXA7XG59XG5mdW5jdGlvbiBtYWtlVGFibGVGcm9tTWFwKGJ1Y2tldHMsIG1hcCl7XG5cdGxldCBleGhhdXN0ZWQgPSBbXTtcblx0bGV0IHRhYmxlID0gXCJcIjtcblx0bGV0IHJvdyA9IDA7XG5cdGJ1Y2tldHMuZm9yRWFjaChlbGVtZW50ID0+IHsgZXhoYXVzdGVkLnB1c2goMCk7fSk7XG5cdHdoaWxlIChleGhhdXN0ZWQuaW5jbHVkZXMoMCkpe1xuXHRcdHRhYmxlICs9IFwifFwiO1xuXHRcdGZvciAobGV0IGk9MDtpPGJ1Y2tldHMubGVuZ3RoO2krKyl7XG5cdFx0XHRpZiAoZXhoYXVzdGVkW2ldID09IDApe1xuXHRcdFx0XHRsZXQgbWFwX2VsID0gbWFwLmdldChidWNrZXRzW2ldKTtcblx0XHRcdFx0aWYgKG1hcF9lbFtyb3ddICE9IHVuZGVmaW5lZCl7XG5cdFx0XHRcdFx0dGFibGUgKz0gbWFwX2VsW3Jvd107XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKG1hcF9lbC5sZW5ndGggPD0gcm93KzEpe1xuXHRcdFx0XHRcdGV4aGF1c3RlZFtpXSA9IDE7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHRhYmxlICs9IFwiIHxcIjtcblx0XHR9XG5cdFx0dGFibGUgKz0gXCJcXG5cIjtcblx0XHRyb3crKztcblx0fVxuXHRyZXR1cm4gdGFibGU7XG59XG5cbmZ1bmN0aW9uIGJ1Y2tldHNUb0RpY3QoYnVja2V0c0lucHV0KXtcblx0bGV0IGJ1Y2tldHM6IGFycmF5ID0gYnVja2V0c0lucHV0LnNwbGl0KFwiXFxuXCIpO1xuXHRsZXQgZGljdCA9IHt9O1xuXHRmb3IgKGNvbnN0IGIgb2YgYnVja2V0cyl7XG5cdFx0aWYgKGIgIT0gXCJcIil7XG5cdFx0XHRzcGxpdCA9IGIuc3BsaXQoXCI6IFwiKTtcblx0XHRcdGRpY3Rbc3BsaXRbMF1dID0gc3BsaXRbMV07XG5cdFx0fVxuXHR9XG5cdHJldHVybiBkaWN0O1xufVxuZnVuY3Rpb24gZGljdFRvQnVja2V0cyhkaWN0KXtcblx0b3V0ID0gXCJcIlxuXHRPYmplY3QuZW50cmllcyhkaWN0KS5mb3JFYWNoKGZ1bmN0aW9uKFtrLHZdKXtcblx0XHRvdXQgKz0gayArIFwiOiBcIiArIHYgK1wiXFxuXCI7XG5cdH0pO1xuXHRyZXR1cm4gb3V0O1xufVxuXG5jb25zdCBERUZBVUxUX1NFVFRJTkdTID0ge1xuXHR0cmFuc2FjdGlvbl9maWxlOiBcIl90cmFuc2FjdGlvbnMubWRcIixcblx0bGVkZ2VyX2ZpbGU6IFwiX2xlZGdlci5tZFwiLFxuXHRidWNrZXRfbmFtZXM6IHsnZyc6XCJHZWxkXCIsJ2knOlwiSW5jb21lXCIsJ3cnOlwiV2llZGVyaG9sdW5nXCIsJ2InOlwiQmVzb3JndW5nXCIsJ3MnOiBcIlNvbnN0aWdlc1wiLCdmJzpcIkZyZWl6ZWl0XCIsJ2UnOlwiRWlua2F1ZmVuXCJ9LFxuXHR0YWJsZV9vcmRlcjogJ2UsZixiLHMsdyxpJyxcblx0dGFibGVfc3VtczogeydlJzpcImVcIiwnZic6XCJmXCIsJ2InOlwiYixlK2YrYlwiLCdzJzpcInMsZStmK2Irc1wiLCd3JzpcIncsZStmK2Ircyt3XCIsJ2knOlwiaSxpLWUtZi1iLXMtdyxnK2ktZS1mLWItcy13XCJ9LFxuXHRpbmNsdWRlX3RyYW5zYWN0aW9uczogdHJ1ZSxcbn1cblxuY2xhc3MgQ3JvbmlldkJvb2trZWVwaW5nU2V0dGluZ3NUYWIgZXh0ZW5kcyBvYnNpZGlhbi5QbHVnaW5TZXR0aW5nVGFiIHtcbiAgY29uc3RydWN0b3IoYXBwLCBwbHVnaW4pIHtcbiAgICAgIHN1cGVyKGFwcCwgcGx1Z2luKTtcbiAgICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuICB9XG5cdGRpc3BsYXkoKSB7XG4gICAgbGV0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XG4gICAgY29udGFpbmVyRWwuZW1wdHkoKTtcbiAgICBjb250YWluZXJFbC5jcmVhdGVFbCgnaDInLCB7IHRleHQ6ICdDcm9uaWV2IEJvb2trZWVwaW5nIC0gU2V0dGluZ3MnIH0pO1xuLy8gVE9ETzogQmVudXR6ZSBGaWxlU3VnZ2VzdCAoVGVtcGxhdGVyKVxuXHRcdG5ldyBvYnNpZGlhbi5TZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoXCJUcmFuc2FjdGlvbnMgZmlsZVwiKVxuXHRcdFx0LnNldERlc2MoXCJUeXBlIHRoZSBwYXRoIHRvIHRoZSBmaWxlIHlvdSB3YW50IHRvIGFkZCB0aGUgdHJhbnNhY3Rpb25zIHRvXCIpXG5cdFx0XHQuYWRkVGV4dEFyZWEoKHRleHQpID0+IHRleHRcblx0XHRcdC5zZXRQbGFjZWhvbGRlcihcIl90cmFuc2FjdGlvbnMubWRcIilcblx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy50cmFuc2FjdGlvbl9maWxlKVxuXHRcdFx0Lm9uQ2hhbmdlKCh2YWx1ZSkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuXHRcdFx0aWYgKHZhbHVlID09ICcnKSB7XG5cdFx0XHRcdFx0dmFsdWUgPSAnX3RyYW5zYWN0aW9ucy5tZCc7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy50cmFuc2FjdGlvbl9maWxlID0gdmFsdWU7XG5cdFx0XHR5aWVsZCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHR9KSkpO1xuLy8gVE9ETzogQmVudXR6ZSBGaWxlU3VnZ2VzdCAoVGVtcGxhdGVyKVxuXHQgIG5ldyBvYnNpZGlhbi5TZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoXCJMZWRnZXIgZmlsZVwiKVxuXHRcdFx0LnNldERlc2MoXCJUeXBlIHRoZSBwYXRoIHRvIHRoZSBmaWxlIHlvdSB3YW50IHRoZSBsZWRnZXIgdG8gYmUgYWRkZWQgdG9cIilcblx0XHRcdC5hZGRUZXh0QXJlYSgodGV4dCkgPT4gdGV4dFxuXHRcdFx0LnNldFBsYWNlaG9sZGVyKFwiX2xlZGdlci5tZFwiKVxuXHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmxlZGdlcl9maWxlKVxuXHRcdFx0Lm9uQ2hhbmdlKCh2YWx1ZSkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuXHRcdFx0aWYgKHZhbHVlID09ICcnKSB7XG5cdFx0XHRcdFx0dmFsdWUgPSAnX2xlZGdlci5tZCc7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy50cmFuc2FjdGlvbl9maWxlID0gdmFsdWU7XG5cdFx0XHR5aWVsZCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHR9KSkpO1xuXHQgIG5ldyBvYnNpZGlhbi5TZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoXCJCdWNrZXRzXCIpXG5cdFx0XHQuc2V0RGVzYyhcIlR5cGUgdGhlIGNsYXNzaWZpZXIgYW5kIE5hbWUgb2YgdGhlIGJ1Y2tldHMgeW91IHdhbnQgdG8gdXNlLCBvbmUgYnVja2V0IHBlciBsaW5lXCIpXG5cdFx0XHQuc2V0Q2xhc3MoXCJib29ra2VlcGluZy10YWxsLWZpZWxkXCIpXG5cdFx0XHQuYWRkVGV4dEFyZWEoKHRleHQpID0+IHRleHRcblx0XHRcdC5zZXRQbGFjZWhvbGRlcihcImk6IEluY29tZVwiKVxuXHRcdFx0LnNldFZhbHVlKGRpY3RUb0J1Y2tldHModGhpcy5wbHVnaW4uc2V0dGluZ3MuYnVja2V0X25hbWVzKSlcblx0XHRcdC5vbkNoYW5nZSgodmFsdWUpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcblx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuYnVja2V0X25hbWVzID0gYnVja2V0c1RvRGljdCh2YWx1ZSk7XG5cdFx0XHRcdHlpZWxkIHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdH0pKSk7XG5cdCAgbmV3IG9ic2lkaWFuLlNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZShcIkJ1Y2tldHMgT3JkZXJcIilcblx0XHRcdC5zZXREZXNjKFwiVHlwZSB0aGUgT3JkZXIgdGhlIEJ1Y2tldHMgc2hvdWxkIGhhdmUgaW4gdGhlIHRhYmxlXCIpXG5cdFx0XHQuYWRkVGV4dEFyZWEoKHRleHQpID0+IHRleHRcblx0XHRcdC5zZXRQbGFjZWhvbGRlcignZSxmLGIscyx3LGknKVxuXHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnRhYmxlX29yZGVyKVxuXHRcdFx0Lm9uQ2hhbmdlKCh2YWx1ZSkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuXHRcdFx0aWYgKHZhbHVlID09ICcnKSB7XG5cdFx0XHRcdFx0dmFsdWUgPSAnZSxmLGIscyx3LGknO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MudGFibGVfb3JkZXIgPSB2YWx1ZTtcblx0XHRcdHlpZWxkIHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdH0pKSk7XG5cdCAgbmV3IG9ic2lkaWFuLlNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZShcIlN1bXMgc2hvd24gaW4gdGFibGVcIilcblx0XHRcdC5zZXREZXNjKFwiVHlwZSB0aGUgU3VtcyB5b3Ugd291bGQgbGlrZSB0byBoYXZlIGRpc3BsYXllZCB1bmRlciBlYWNoIEJ1Y2tldCBpbiB0aGUgVGFibGUuIE9uZSBCdWNrZXQgcGVyIHJvdy5cIilcblx0XHRcdC5zZXRDbGFzcyhcImJvb2trZWVwaW5nLXRhbGwtZmllbGRcIilcblx0XHRcdC5hZGRUZXh0QXJlYSgodGV4dCkgPT4gdGV4dFxuXHRcdFx0LnNldFBsYWNlaG9sZGVyKCdiOiBiLGUrZitiJylcblx0XHRcdC5zZXRWYWx1ZShkaWN0VG9CdWNrZXRzKHRoaXMucGx1Z2luLnNldHRpbmdzLnRhYmxlX3N1bXMpKVxuXHRcdFx0Lm9uQ2hhbmdlKCh2YWx1ZSkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuXHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy50YWJsZV9zdW1zID0gYnVja2V0c1RvRGljdCh2YWx1ZSk7XG5cdFx0XHRcdHlpZWxkIHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdH0pKSk7XG5cdFx0bmV3IG9ic2lkaWFuLlNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHRcdC5zZXROYW1lKFwiRGlzcGxheSBldmVyeSB0cmFuc2FjdGlvblwiKVxuXHRcdFx0XHQuc2V0RGVzYyhcIkFkZCBhIGxpc3Qgb2YgdGhlIHRyYW5zYWN0aW9ucyB0byB0aGUgdGFibGUuXCIpXG5cdFx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZS5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5pbmNsdWRlX3RyYW5zYWN0aW9ucylcblx0XHRcdFx0Lm9uQ2hhbmdlKCh2YWx1ZSkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuXHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5pbmNsdWRlX3RyYW5zYWN0aW9ucyA9ICF0aGlzLnBsdWdpbi5zZXR0aW5ncy5pbmNsdWRlX3RyYW5zYWN0aW9ucztcblx0XHRcdFx0eWllbGQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0fSkpKTtcblx0fVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IENyb25pZXZCb29ra2VlcGluZztcbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztB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
